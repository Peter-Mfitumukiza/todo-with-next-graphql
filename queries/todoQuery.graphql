query GetTodos($userId: uuid!) {
  todo(where: { user_id: { _eq: $userId } }, order_by: { created_at: asc }) {
    id
    name
    complete
  }
}

query GetTodoById($id: uuid!) {
  todo_by_pk(id: $id) {
    complete
    created_at
    id
    name
  }
}

mutation CreateTodo($name: String, $userId: uuid) {
  insert_todo(objects: { name: $name, user_id: $userId}) {
    returning {
      id
      name
      complete
    }
  }
}

mutation UpdateTodo($id: uuid, $complete: Boolean) {
  update_todo(where: { id: { _eq: $id } }, _set: { complete: $complete }) {
    returning {
      complete
      created_at
      id
      name
    }
  }
}

mutation DeleteTodo($id: uuid) {
  delete_todo(where: { id: { _eq: $id } }) {
    returning {
      created_at
      complete
      id
      name
    }
  }
}

mutation DeleteAllCompleted($deleteThem: Boolean,$userId: uuid ) {
  delete_todo(where: { complete: { _eq: $deleteThem }, user_id: {_eq: $userId} }) {
    returning {
      complete
      created_at
      name
      id
    }
  }
}
